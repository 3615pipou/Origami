<html>
<head>
	<meta charset="UTF-8">
	<script language="javascript" type="text/javascript" src="../../src/graph.js"></script>
</head>
<body>
</body>
<script>

function fillWithRandom(numNodes, numEdges){
	for(var i = 0; i < numNodes; i++){ graph.newNode(); }
	for(var i = 0; i < numEdges; i++){
		var one = Math.floor( Math.random()*numNodes );
		var two = Math.floor( Math.random()*numNodes );
		graph.newEdge(graph.nodes[one], graph.nodes[two]);
	}
}

var graph = new Graph();

var NODE_COUNT = 5;
var EDGE_COUNT = 3;

// CREATE A GRAPH, RANDOM COMPONENTS
fillWithRandom(NODE_COUNT, EDGE_COUNT);

document.body.innerHTML += "<h1>" + graph.nodes.length + " Nodes, " + graph.edges.length + " Edges</h1>";

var nodeString = "NODES: ";
for(var i = 0; i < graph.nodes.length; i++){ nodeString += "(" + graph.nodes[i].index + ") "; }
document.body.innerHTML += nodeString;

document.body.innerHTML += "<br>";

var edgeString = "EDGES: ";
for(var i = 0; i < graph.edges.length; i++){
	edgeString += "(" + graph.edges[i].nodes[0].index + "," + graph.edges[i].nodes[1].index + ") ";
}
document.body.innerHTML += edgeString;

//////////////////
var removeCount = graph.cleanDuplicateEdges();

document.body.innerHTML += "<hr>";
document.body.innerHTML += "<h1>Clean Duplicate Edges</h1>";
document.body.innerHTML += "<h3>Cleaning... removed " + removeCount + " Edges</h3>";

var nodeString = "NODES: ";
for(var i = 0; i < graph.nodes.length; i++){ nodeString += "(" + graph.nodes[i].index + ") "; }
document.body.innerHTML += nodeString;

document.body.innerHTML += "<br>";

var edgeString = "EDGES: ";
for(var i = 0; i < graph.edges.length; i++){
	edgeString += "(" + graph.edges[i].nodes[0].index + "," + graph.edges[i].nodes[1].index + ") ";
}
document.body.innerHTML += edgeString;

//////////////////
var removeCount = graph.cleanCircularEdges();

document.body.innerHTML += "<hr>";
document.body.innerHTML += "<h1>Clean Circular Edges</h1>";
document.body.innerHTML += "<h3>Cleaning... removed " + removeCount + " Edges</h3>";

var nodeString = "NODES: ";
for(var i = 0; i < graph.nodes.length; i++){ nodeString += "(" + graph.nodes[i].index + ") "; }
document.body.innerHTML += nodeString;

document.body.innerHTML += "<br>";

var edgeString = "EDGES: ";
for(var i = 0; i < graph.edges.length; i++){
	edgeString += "(" + graph.edges[i].nodes[0].index + "," + graph.edges[i].nodes[1].index + ") ";
}
document.body.innerHTML += edgeString;

//////////////////
var removeCount = graph.cleanUnusedNodes();

document.body.innerHTML += "<hr>";
document.body.innerHTML += "<h1>Clean Unused Nodes (not included in graph.clean)</h1>";
document.body.innerHTML += "Node indices will update with their new values counting up from zero, look closely to see the consistencies inside the edges.";
document.body.innerHTML += "<h3>Cleaning... removed " + removeCount + " Nodes</h3>";


var nodeString = "NODES: ";
for(var i = 0; i < graph.nodes.length; i++){ nodeString += "(" + graph.nodes[i].index + ") "; }
document.body.innerHTML += nodeString;

document.body.innerHTML += "<br>";

var edgeString = "EDGES: ";
for(var i = 0; i < graph.edges.length; i++){
	edgeString += "(" + graph.edges[i].nodes[0].index + "," + graph.edges[i].nodes[1].index + ") ";
}
document.body.innerHTML += edgeString;

</script>
</html>