<html>
<head>
	<meta charset="UTF-8">
	<script language="javascript" type="text/javascript" src="../lib/p5.min.js"></script>
	<script language="javascript" type="text/javascript" src="../graph.js"></script>
	<script language="javascript" type="text/javascript" src="../planarGraph.js"></script>
	<script language="javascript" type="text/javascript" src="../render.js"></script>
	<style> body {padding: 0; margin: 0;} </style>
</head>
<body>
	<script>

var g = new PlanarGraph();
var paperSize = 250;
var intersections = [];

function fillWithRope(graph, count){
	graph.clear();
	var first = {x:Math.random(), y:Math.random(), z:0.0};
	graph.nodes.push(first);
	for(var i = 0; i < count; i++){
		graph.addEdgeFromVertex(i, Math.random(), Math.random());
	}
}

function drawTest03(){
	fill(0, 0, 0);
	stroke(0, 0, 0);
	drawCoordinateFrame();
	drawGraphPoints(g);
	drawGraphLines(g);
	for(var i = 0; i < intersections.length; i++){
		fill(255, 0, 0);
		noStroke();
		ellipse(intersections[i].x, intersections[i].y, .03, .03);
	}
}

function resetTest03(){
	fillWithRope(g, 5);
	intersections = g.getAllEdgeIntersections();
}

function setup(){
	canvas = createCanvas(window.innerWidth, window.innerHeight);
	strokeWeight(.01);
	resetTest03();
}

function draw() {
	clear();
	applyMatrix(paperSize, 0, 0, paperSize, window.innerWidth*0.5-paperSize*0.5, window.innerHeight*0.5-paperSize*0.5);
	drawTest03();
}

function mousePressed(){
	resetTest03();
}

</script>
</body>
</html>